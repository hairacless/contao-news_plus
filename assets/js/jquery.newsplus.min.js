(function(b){var a={onReady:function(){this.showNewsInModal();this.closeNewsModal();this.changeUrl()},showNewsInModal:function(){b("body").on("click",'[data-news="modal"]',function(g){g.preventDefault();var f=b(this),d=b(f.data("target")),c=d.find(".modal-dialog");if(!d.hasClass("in")){d.data("history-base-filtered",window.location.href)}c.load(f.attr("href"),function(h,i,e){history.pushState(null,null,f.attr("href"));d.data("history-replaced",true)})})},changeUrl:function(){},closeNewsModal:function(){b(".mod_newsreader_plus").on("hide.bs.modal",function(d){var c=b(this);if(c.data("history-base-filtered")){history.pushState(null,null,c.data("history-base-filtered"))}else{window.location.href=c.data("history-base")}})}};b(document).ready(function(){a.onReady()})})(jQuery);