function CharacterCounter(h,b){var e=h,f=typeof h.value!="undefined"?h.value.length:0;if(b.tinyMCE){h=h.getElement();var d=document.createElement("span");d.innerHTML=h.value;f=(d.textContent||d.innerText).length}var g=h.parentNode.querySelector(".tl_tip"),a=h.getAttribute("maxlength")||h.getAttribute("data-maxlength");if(a<1||typeof g=="undefined"){return}var c=a-f<0?0:a-f;g.innerHTML='<span class="character-counter" style="font-weight: bold; color: #000;">[<span class="count">'+c+"</span> Zeichen verbleibend]</span> - "+g.innerHTML;if(b.tinyMCE){e.on("keyup",function(){var i=document.createElement("span");i.innerHTML=this.getContent();f=(i.textContent||i.innerText).length;c=a-f<0?0:a-f;g.querySelector(".character-counter .count").innerHTML=c})}else{h.addEventListener("keyup",function(){f=this.value.length;c=a-f<0?0:a-f;g.querySelector(".character-counter .count").innerHTML=c})}}(function(){var a={init:function(){this.registerCountCharacterFields()},registerCountCharacterFields:function(){var c=document.querySelectorAll("[data-count-characters]");for(var e=0,b=c.length;e<b;e++){var f=c[e];if(f.type=="textarea"&&f.classList.contains("noresize")){continue}if(typeof f.counterCharacters!="undefined"){continue}var d={};new CharacterCounter(f,d);f.countCharacters=true}}};document.addEventListener("DOMContentLoaded",function(b){a.init()})}).call(this);